{% extends 'base.html.twig' %}

{% block title %}{{ parent() }} |
    {% if sortie.id is not null %}
    Éditer ({{ sortie.nom }})
    {% else %}
    Créer une sortie
    {% endif %} {% endblock %}
{% block main %}
    <h1>
        {% if sortie.id is not null %}
            Éditer la sortie | {{ sortie.nom }}
        {% else %}
            Créer une sortie
        {% endif %}
    </h1>
    {{ form_start(sortieForm) }}
        {% for input in sortieForm %}
          {% if input.vars.block_prefixes.1 != 'submit' %}
                {{ form_row(input) }}
          {% endif %}
        {% endfor %}
        <div class="form-group">
            {# Displaying different inputs according to the status. #}
            {% if sortie.etat %}
                {% if sortie.etat.id is same as(1) %}
                    {{ form_widget(sortieForm.save, {'attr': {'class': 'btn btn-info'}}) }}
                    {{ form_widget(sortieForm.publish, {'attr': {'class': 'btn btn-success mx-2'}}) }}
                    {{ form_widget(sortieForm.delete, {'attr': {'class': 'btn btn-danger mx-2'}}) }}
                {% elseif sortie.etat.id is same as(2) or sortie.etat.id is same as(3) %}
                    {{ form_widget(sortieForm.publish, {
                        'label': 'Mettre à jour',
                        'attr': {'class': 'btn btn-success'}
                    }) }}
                    {{ form_widget(sortieForm.delete, {'attr': {'class': 'btn btn-danger mx-2'}}) }}
                {% endif %}
            {% endif %}
            <button type="reset" class="btn-warning btn mx-2">Annuler</button>
        </div>
    {{ form_errors(sortieForm) }}


{% endblock %}